{"version":3,"sources":["redux/Contact/contact-action.js","redux/Contact/contact-operation.js","components/ContactForm/ContactForm.js","redux/Filter/filter-action.js","components/Filter/Filter.js","components/ContactList/ContactList.js","App.js","redux/Contact/contact-reducer.js","redux/Filter/filter-reducer.js","redux/store.js","index.js"],"names":["getContactRequest","createAction","getContactSuccess","getContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","axios","require","ContactForm","useState","name","setName","number","setNumber","dispatch","useDispatch","handleChange","e","currentTarget","value","className","onSubmit","preventDefault","phone","a","newContact","get","contacts","reallyContacts","data","find","contact","toLowerCase","alert","post","addContact","console","log","asyncAddContact","placeholder","onChange","type","pattern","title","required","onFilter","Filter","useSelector","state","filter","actions","target","ContactList","items","isLoading","visibleContacts","includes","useEffect","then","response","catch","error","map","onClick","id","delete","App","createReducer","payload","contactReducer","combineReducers","rootReducer","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30078e46.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const getContactRequest = createAction(\"contacts/getContactsRequest\");\r\nexport const getContactSuccess = createAction(\"contacts/getContactsSuccess\");\r\nexport const getContactError = createAction(\"addContacts/getContactsError\");\r\n// ADD\r\nexport const addContactRequest = createAction(\"contacts/addContactsRequest\");\r\nexport const addContactSuccess = createAction(\"contacts/addContactsSuccess\");\r\nexport const addContactError = createAction(\"contacts/addContactsError\");\r\n// DELETE\r\nexport const deleteContactRequest = createAction(\r\n  \"contacts/deleteContactsRequest\"\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  \"contacts/deleteContactsSuccess\"\r\n);\r\nexport const deleteContactError = createAction(\"contacts/deleteContactsError\");\r\n","import {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  getContactRequest,\r\n  getContactSuccess,\r\n  getContactError,\r\n} from \"./contact-action\";\r\nconst axios = require(\"axios\");\r\n\r\nexport const asyncGetContact = () => async (dispatch) => {\r\n  dispatch(getContactRequest());\r\n  axios\r\n    .get(\"https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts\")\r\n    .then((response) => dispatch(getContactSuccess(response.data)))\r\n    .catch((error) => dispatch(getContactError(error)));\r\n};\r\nexport const asyncAddContact = (name, phone) => async (dispatch) => {\r\n  dispatch(addContactRequest());\r\n  const newContact = { name, phone };\r\n  try {\r\n    const contacts = await axios.get(\r\n      \"https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts\"\r\n    );\r\n    const reallyContacts = contacts.data;\r\n    if (\r\n      reallyContacts.find(\r\n        (contact) => contact.name.toLowerCase() === name.toLowerCase()\r\n      )\r\n    ) {\r\n      alert(`${name} is already in contacts`);\r\n      return;\r\n    }\r\n\r\n    const addContact = await axios.post(\r\n      \"https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts\",\r\n      newContact\r\n    );\r\n    dispatch(addContactSuccess([...reallyContacts, addContact.data]));\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch(addContactError(error));\r\n  }\r\n};\r\nexport const asyncDeleteContact = (id) => async (dispatch) => {\r\n  dispatch(deleteContactRequest);\r\n  try {\r\n    const deleteContact = await axios.delete(\r\n      `https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts/${id}`\r\n    );\r\n    const newContact = await axios.get(\r\n      \"https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts\"\r\n    );\r\n    dispatch(deleteContactSuccess(newContact.data));\r\n  } catch (error) {\r\n    dispatch(deleteContactError(error));\r\n  }\r\n};\r\n","import { useState } from \"react\";\nimport propTypes from \"prop-types\";\nimport \"./ContactForm.css\";\nimport { useDispatch } from \"react-redux\";\nimport { asyncAddContact } from \"../../redux/Contact/contact-operation\";\nexport default function ContactForm() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const dispatch = useDispatch();\n  const handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"name\":\n        setName(value);\n        break;\n      case \"number\":\n        setNumber(value);\n        break;\n      default:\n        break;\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(asyncAddContact(name, number));\n    setNumber(\"\");\n    setName(\"\");\n  };\n  return (\n    <form className=\"contactForm\" onSubmit={handleSubmit}>\n      <label className=\"form__label\">\n        Name\n        <input\n          placeholder=\"Введите имя\"\n          className=\"form__input\"\n          onChange={handleChange}\n          value={name}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </label>\n      <br />\n      <label className=\"form__label\">\n        Number\n        <input\n          placeholder=\"Введите номер\"\n          className=\"form__input\"\n          onChange={handleChange}\n          value={number}\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </label>\n      <br />\n      <button className=\"form__button\" type=\"submit\">\n        Add Contact\n      </button>\n    </form>\n  );\n}\n","import { createAction } from \"@reduxjs/toolkit\";\r\nexport const onFilter = createAction(\"filter/add\");\r\n","import propTypes from \"prop-types\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as actions from \"../../redux/Filter/filter-action\";\nexport default function Filter() {\n  const value = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n  const handleFilter = (e) => {\n    dispatch(actions.onFilter(e.target.value));\n  };\n  return (\n    <label>\n      Find contacts by name\n      <input\n        onChange={handleFilter}\n        value={value}\n        type=\"text\"\n        name=\"filter\"\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        required\n      />\n    </label>\n  );\n}\n","import \"./ContactList.css\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  asyncDeleteContact,\n  asyncGetContact,\n} from \"../../redux/Contact/contact-operation\";\nimport { useEffect } from \"react\";\n\nexport default function ContactList() {\n  const contacts = useSelector((state) => state.items.contacts);\n  const isLoading = useSelector((state) => state.items.isLoading);\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n  let visibleContacts = [];\n  if (contacts) {\n    visibleContacts = contacts.filter((contact) =>\n      contact.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  }\n\n  useEffect(() => {\n    dispatch(asyncGetContact());\n  }, [dispatch]);\n  return (\n    <>\n      {!isLoading && <h2>Loading</h2>}\n      <ul className=\"contactList\">\n        {visibleContacts &&\n          visibleContacts.map((contact) => {\n            return (\n              <li className=\"contactItem\" key={contact.id}>\n                <div className=\"contactBlock\">\n                  <span>{contact.name}</span>\n                  <span className=\"nubmer\">{contact.phone}</span>\n                </div>\n\n                <button\n                  className=\"deleteBotton\"\n                  onClick={() => {\n                    dispatch(asyncDeleteContact(contact.id));\n                  }}\n                  type=\"button\"\n                >\n                  Delete\n                </button>\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n}\n","import ContactForm from \"./components/ContactForm\";\nimport Filter from \"./components/Filter/\";\nimport ContactList from \"./components/ContactList/\";\n\n// const useContactsLocalStorage = (key) => {\n//   console.log(window.localStorage.getItem(key));\n//   const [state, setState] = useState(() => {\n//     return JSON.parse(window.localStorage.getItem(key)) ?? [];\n//   });\n//   useEffect(() => {\n//     localStorage.setItem(key, JSON.stringify(state));\n//   }, [key, state]);\n//   return [state, setState];\n// };\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ContactForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n}\n","import { combineReducers, createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  getContactRequest,\r\n  getContactSuccess,\r\n  getContactError,\r\n} from \"./contact-action\";\r\n\r\nconst ContactState = null;\r\n\r\nconst contacts = createReducer(ContactState, {\r\n  [getContactSuccess]: (state, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => payload,\r\n  [deleteContactSuccess]: (state, { payload }) => payload,\r\n});\r\nconst isLoading = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactError]: () => false,\r\n  [getContactRequest]: () => true,\r\n  [getContactError]: () => false,\r\n});\r\nconst contactReducer = combineReducers({\r\n  contacts,\r\n  isLoading,\r\n});\r\nexport default contactReducer;\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { onFilter } from \"./filter-action\";\r\n\r\nconst filter = createReducer(\"\", {\r\n  [onFilter]: (state, { payload }) => payload,\r\n});\r\nexport default filter;\r\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport contactReducer from \"./Contact/contact-reducer\";\r\nimport filter from \"./Filter/filter-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  items: contactReducer,\r\n  filter: filter,\r\n});\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n    ;\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}