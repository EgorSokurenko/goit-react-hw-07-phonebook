(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{31:function(t,e,c){},32:function(t,e,c){},60:function(t,e,c){},65:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(11),s=c.n(r),o=(c(31),c(16)),u=(c(32),c(5)),i=c(26),b=c(7),j=c.n(b),l=c(13),d=c(2),f=Object(d.b)("contacts/getContactsRequest"),O=Object(d.b)("contacts/getContactsSuccess"),p=Object(d.b)("addContacts/getContactsError"),h=Object(d.b)("contacts/addContactsRequest"),m=Object(d.b)("contacts/addContactsSuccess"),x=Object(d.b)("contacts/addContactsError"),v=Object(d.b)("contacts/deleteContactsRequest"),C=Object(d.b)("contacts/deleteContactsSuccess"),g=Object(d.b)("contacts/deleteContactsError"),k=c(40),w=c(1);function y(){var t=Object(n.useState)(""),e=Object(o.a)(t,2),c=e[0],a=e[1],r=Object(n.useState)(""),s=Object(o.a)(r,2),b=s[0],d=s[1],f=Object(u.b)(),O=function(t){var e=t.currentTarget,c=e.name,n=e.value;switch(c){case"name":a(n);break;case"number":d(n)}};return Object(w.jsxs)("form",{className:"contactForm",onSubmit:function(t){t.preventDefault(),f(function(t,e){return function(){var c=Object(l.a)(j.a.mark((function c(n){var a,r,s,o;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n(h()),a={name:t,phone:e},c.prev=2,c.next=5,k.get("https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts");case 5:if(r=c.sent,!(s=r.data).find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))){c.next=10;break}return alert("".concat(t," is already in contacts")),c.abrupt("return");case 10:return c.next=12,k.post("https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts",a);case 12:o=c.sent,n(m([].concat(Object(i.a)(s),[o.data]))),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(2),console.log(c.t0),n(x(c.t0));case 20:case"end":return c.stop()}}),c,null,[[2,16]])})));return function(t){return c.apply(this,arguments)}}()}(c,b)),d(""),a("")},children:[Object(w.jsxs)("label",{className:"form__label",children:["Name",Object(w.jsx)("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",className:"form__input",onChange:O,value:c,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(w.jsx)("br",{}),Object(w.jsxs)("label",{className:"form__label",children:["Number",Object(w.jsx)("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440",className:"form__input",onChange:O,value:b,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(w.jsx)("br",{}),Object(w.jsx)("button",{className:"form__button",type:"submit",children:"Add Contact"})]})}var N=Object(d.b)("filter/add");function A(){var t=Object(u.c)((function(t){return t.filter})),e=Object(u.b)();return Object(w.jsxs)("label",{children:["Find contacts by name",Object(w.jsx)("input",{onChange:function(t){e(N(t.target.value))},value:t,type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]})}c(60);function _(){var t=Object(u.c)((function(t){return t.items.contacts})),e=Object(u.c)((function(t){return t.items.isLoading})),c=Object(u.c)((function(t){return t.filter})),a=Object(u.b)(),r=[];return t&&(r=t.filter((function(t){return t.name.toLowerCase().includes(c.toLowerCase())}))),Object(n.useEffect)((function(){a(function(){var t=Object(l.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(f()),k.get("https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts").then((function(t){return e(O(t.data))})).catch((function(t){return e(p(t))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[a]),Object(w.jsxs)(w.Fragment,{children:[!e&&Object(w.jsx)("h2",{children:"Loading"}),Object(w.jsx)("ul",{className:"contactList",children:r&&r.map((function(t){return Object(w.jsxs)("li",{className:"contactItem",children:[Object(w.jsxs)("div",{className:"contactBlock",children:[Object(w.jsx)("span",{children:t.name}),Object(w.jsx)("span",{className:"nubmer",children:t.phone})]}),Object(w.jsx)("button",{className:"deleteBotton",onClick:function(){var e;a((e=t.id,function(){var t=Object(l.a)(j.a.mark((function t(c){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(v),t.prev=1,t.next=4,k.delete("https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts/".concat(e));case 4:return t.sent,t.next=7,k.get("https://61bc594cd8542f00178246b9.mockapi.io/contacts/contacts");case 7:n=t.sent,c(C(n.data)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),c(g(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()))},type:"button",children:"Delete"})]},t.id)}))})]})}function z(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Phonebook"}),Object(w.jsx)(y,{}),Object(w.jsx)("h2",{children:"Contacts"}),Object(w.jsx)(A,{}),Object(w.jsx)(_,{})]})}var L,S,q=c(3),Z=(c(66),c(61),c(6)),B=Object(d.c)(null,(L={},Object(Z.a)(L,O,(function(t,e){return e.payload})),Object(Z.a)(L,m,(function(t,e){return e.payload})),Object(Z.a)(L,C,(function(t,e){return e.payload})),L)),E=Object(d.c)(!1,(S={},Object(Z.a)(S,h,(function(){return!0})),Object(Z.a)(S,x,(function(){return!1})),Object(Z.a)(S,v,(function(){return!0})),Object(Z.a)(S,g,(function(){return!1})),Object(Z.a)(S,f,(function(){return!0})),Object(Z.a)(S,p,(function(){return!1})),S)),J=Object(q.b)({contacts:B,isLoading:E}),F=Object(d.c)("",Object(Z.a)({},N,(function(t,e){return e.payload}))),M=Object(q.b)({items:J,filter:F}),R=Object(d.a)({reducer:M});c(64);s.a.render(Object(w.jsxs)(a.a.StrictMode,{children:[Object(w.jsx)(u.a,{store:R,children:Object(w.jsx)(z,{})}),";"]}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.30078e46.chunk.js.map